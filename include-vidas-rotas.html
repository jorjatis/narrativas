<style>
  body{background:#161515}.voc-header .voc-header__text{color:#575757}.voc-header .voc-progress{background:#575757}.voc-info-container{position:relative}.voc-info-container:before{content:"";position:absolute;top:0;left:50%;transform:translateX(-50%);width:1px;height:61px;background:hsla(0,0%,100%,.2);z-index:0}body .voc-footer{margin:180px auto 0}body .voc-footer .voc-heading__logo{filter:invert(1)}body .voc-footer .voc-footer__corporate .voc-heading__logo{filter:brightness(5)}body .voc-footer .voc-heading__text,body .voc-footer .voc-to-top__text,body .voc-footer .voc-footer-nav__list li a,body .voc-footer .voc-footer-nav__list li:after{color:hsla(0,0%,100%,.8)}body .voc-footer .voc-to-top__icon rect{fill:var(--cb1)}body .voc-footer .voc-to-top__icon path{fill:#fff}.voc-article.voc-article--detail-visual .voc-pretitle{margin-bottom:24px}.voc-article.voc-article--detail-visual .voc-pretitle__prm{fill:#fff}.voc-article.voc-article--detail-visual .voc-pretitle__txt{font:12px/normal "Basier Square Semibold",Arial,Roboto,Helvetica,sans-serif;letter-spacing:-0.36px;text-transform:uppercase;color:#fff;margin-top:36px}.voc-article.voc-article--detail-visual .voc-pretitle::after{content:none}.voc-article.voc-article--detail-visual .voc-title{max-width:700px;width:100%;font:50px/48px "ABCDisplay Extralight",Georgia,Times New Roman,serif;text-transform:uppercase;color:#f9f6ee}@media(min-width: 1366px){.voc-article.voc-article--detail-visual .voc-title{font-size:90px;line-height:76px}}@media(min-width: 1366px){.voc-article.voc-article--detail-visual .voc-img-container--wmd{margin-left:calc(-600px + 50%);width:1200px}}.voc-d.voc-d--visual>.voc-subtitle{margin-left:auto;margin-right:auto;max-width:100%;font:22px/28px "ABCText Light",Georgia,Times New Roman,serif;color:hsla(0,0%,100%,.8)}.voc-d.voc-d--visual .v-dsc{margin-bottom:80px;font-family:"ABCDisplay Light Italic",Georgia,Times New Roman,serif;font-size:16px;line-height:20px;font-style:italic;color:hsla(0,0%,100%,.8);text-align:center}.voc-d.voc-d--visual .v-dsc a{transition:opacity .3s}.voc-d.voc-d--visual .v-dsc a:hover{opacity:.7}.voc-d.voc-d--visual .voc-author{z-index:10}.voc-d.voc-d--visual .voc-author__time{color:hsla(0,0%,100%,.8)}.voc-container--spc{margin-top:36px}.voc-container--spc .v-spc-names{min-height:500px;margin-bottom:46px;font:12px/18px "Basier Square Regular",Arial,Roboto,Helvetica,sans-serif;letter-spacing:-0.26px;text-align:justify;color:#fff}.voc-container--spc .v-spc-names .v-spc-loader{padding-top:42px}.voc-container--spc .v-spc-names span{position:relative;opacity:0;transition:.3s ease;cursor:pointer}.voc-container--spc .v-spc-names span.visible{opacity:.3}.voc-container--spc .v-spc-names span.visible:hover{opacity:1;box-shadow:0 0 20px 10px #161515;z-index:10}.voc-container--spc .v-spc-faces{position:relative;display:flex;flex-wrap:wrap;flex-direction:column;gap:16px;min-height:200px;padding-top:110px}.voc-container--spc .v-spc-faces:before{content:"";position:absolute;top:0;left:50%;transform:translateX(-50%);width:1px;height:61px;background:hsla(0,0%,100%,.2);z-index:0}.voc-container--spc .v-spc-faces-txt{display:block;width:100%;margin-bottom:46px;font:14px/16px "Basier Square Regular",Arial,Roboto,Helvetica,sans-serif;text-align:center;letter-spacing:-0.42px;color:#fff}.voc-container--spc .v-spc-faces-grid{display:grid;grid-template-columns:repeat(auto-fill, minmax(100px, 1fr));gap:6px 8px;align-items:flex-start}@media(min-width: 699px){.voc-container--spc .v-spc-faces-grid{grid-template-columns:repeat(auto-fill, minmax(143px, 1fr));gap:18px 24px}}.voc-container--spc .v-spc-faces-grid:has(>.v-spc-faces__itm.found) .v-spc-faces__itm:not(.found){opacity:.1 !important}.voc-container--spc .v-spc-faces-grid:has(>.v-spc-faces__itm.found) .v-spc-faces__itm.found{opacity:1 !important}.voc-container--spc .v-spc-faces-grid:not(:has(>.v-spc-faces__itm.found)):hover .v-spc-faces__itm{opacity:.1}.voc-container--spc .v-spc-faces-grid:not(:has(>.v-spc-faces__itm.found)):hover .v-spc-faces__itm:hover{opacity:1}.voc-container--spc .v-spc-faces__itm{width:100%;transition:.5s opacity ease;opacity:1;transform:scale(1)}.voc-container--spc .v-spc-faces__itm.is-hidden{opacity:0;transform:scale(0.95)}.voc-container--spc .v-spc-faces__itm:hover{opacity:.8}.voc-container--spc .v-spc-faces__itm.found{position:relative}.voc-container--spc .v-spc-faces__itm.found::after{content:"";position:absolute;inset:1px;border-radius:6px;border:2px solid hsla(0,0%,100%,.5);animation:pulse 1.9s ease-out infinite}@keyframes pulse{0%{transform:scale(1);opacity:.5}100%{transform:scale(1.5);opacity:0}}.voc-container--spc .v-spc-faces__img{width:100%}.voc-container--spc .v-spc-faces__img img{aspect-ratio:1;object-fit:cover;background:#f9f6ee;filter:grayscale(1)}.voc-container--spc .v-spc-faces__name{display:block;margin-top:6px;font:12px/16px "Basier Square Regular",Arial,Roboto,Helvetica,sans-serif;letter-spacing:-0.36px;text-align:left;color:hsla(0,0%,100%,.8)}.voc-container--spc .v-spc-loader{position:absolute;left:50%;transform:translateX(-50%);background:rgba(var(--cb1), 0.7);padding:8px;border-radius:50%;z-index:5;opacity:1;transition:opacity .4s ease}.voc-container--spc .v-spc-loader .spinner{width:40px;height:40px;border:5px solid #f9f6ee;border-top-color:#333;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.voc-container--spc .v-spc-pop{top:50%;left:50%;transform:translateX(-50%) translateY(-50%);border:0;background:rgba(0,0,0,0);animation:fadeIn .3s ease-in}@keyframes fadeIn{from{opacity:0}to{opacity:1}}.voc-container--spc .v-spc-pop::backdrop{background:rgba(0,0,0,.8);backdrop-filter:blur(7px)}.voc-container--spc .v-spc-pop.is-open .v-mdl-pop__c{animation:scalePop .3s ease-in-out}@keyframes scalePop{from{transform:scale(0.95)}to{transform:scale(1)}}.voc-container--spc .v-spc-pop .v-mdl-pop__c{position:relative;width:412px;padding:43px 46px 54px;background:#f9f6ee;border-radius:6px}.voc-container--spc .v-spc-pop .v-mdl-pop__b--1{display:flex;align-items:flex-end;column-gap:14px}.voc-container--spc .v-spc-pop .v-mdl-pop__b--2{margin-top:32px}.voc-container--spc .v-spc-pop .v-x{position:absolute;top:20px;right:20px;width:24px;height:24px;transition:.3s opacity ease}.voc-container--spc .v-spc-pop .v-x:hover{opacity:.7}.voc-container--spc .v-spc-pop .v-x .v-i{width:24px;height:24px}.voc-container--spc .v-spc-pop .v-spc-faces__img{max-width:120px;width:100%;flex-grow:1}.voc-container--spc .v-spc-pop .v-spc-faces__info{display:flex;flex-direction:column}.voc-container--spc .v-spc-pop .v-spc-faces__info>span{max-width:140px;font-size:18px;line-height:21px;letter-spacing:-0.54px}.voc-container--spc .v-spc-pop .v-spc-faces__name{font-family:"ABCDisplay Semibold",Georgia,Times New Roman,serif;color:var(--cb1)}.voc-container--spc .v-spc-pop .v-spc-faces__age{margin-top:12px}.voc-container--spc .v-spc-pop .v-spc-faces__age,.voc-container--spc .v-spc-pop .v-spc-faces__loc,.voc-container--spc .v-spc-pop .v-spc-faces__desc{font-family:"ABCDisplay Light",Georgia,Times New Roman,serif}.voc-container--spc .v-spc-pop .v-spc-faces__desc{font-size:16px;letter-spacing:-0.48px}.voc-container--spc .v-spc-search{display:none;width:100%;max-width:300px;margin:0 auto 36px;padding:8px 12px;font-family:"Basier Square Regular",Arial,Roboto,Helvetica,sans-serif;font-size:14px;text-align:center;border:1px solid #ccc;border-radius:8px}.voc-container--spc .v-spc-faces__itm.hidden{display:none !important}body.is-overflow{pointer-events:none}body.is-overflow .v-spc-pop{pointer-events:auto}.voc-c-container:has(.v-c-crd){display:flex;flex-direction:column;align-items:center;margin:140px auto 0}.voc-c-container:has(.v-c-crd):before{content:"";height:1px;background:#fff;margin-bottom:20px}.voc-c-container:has(.v-c-crd):after{content:none}.voc-c-container:has(.v-c-crd) .v-c-crd{text-align:center}.voc-c-container:has(.v-c-crd) .v-c-crd>span,.voc-c-container:has(.v-c-crd) .v-c-crd ul li{color:#fff}.voc-c-container:has(.v-c-crd) .v-c-crd ul{padding:0}.voc-c-container:has(.v-c-crd) .v-c-crd ul li b{margin:0}.voc-info-container{opacity:0;animation:fadeInInfo 1s ease forwards}.voc-info-container::before{height:0;animation:growLine .8s ease forwards .3s}.voc-info-container .voc-pretitle{opacity:0;animation:fadeInBlock .8s ease forwards .6s}.voc-info-container .voc-title{opacity:0;animation:fadeInBlock .8s ease forwards .9s}.voc-subtitle,.v-dsc,.voc-author{opacity:0;animation:fadeInBlock .8s ease forwards 1.3s}.v-spc-faces::before{height:0;animation:growLine .8s ease forwards 2s}.v-spc-faces-txt,.v-spc-faces .v-spc-search{opacity:0;animation:fadeInBlock .8s ease forwards 2.4s}@keyframes fadeInInfo{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes fadeInBlock{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}@keyframes growLine{from{height:0}to{height:61px}}
</style>

<div class="voc-container voc-container--spc">
  <div class="v-spc-names">
    <div class="v-spc-loader">
      <div class="spinner"></div>
    </div>
  </div>

  <div class="v-spc-faces">
    <span class="v-spc-faces-txt">Clica sobre cada v칤ctima para conocer su historia</span>
    <div class="v-spc-faces-grid">
      <div class="v-spc-loader">
        <div class="spinner"></div>
      </div>
    </div>

    <div id="" popover class="v-mdl-pop v-spc-pop">
      <div class="v-mdl__c v-mdl-pop__c">
        <div class="v-mdl-pop__h">
          <button class="v-x" popovertarget="" popovertargetaction="hide">
            <span class="v-i">
              <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><mask id="a" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24"><path fill="#D9D9D9" d="M0 0h24v24H0z"/></mask><g mask="url(#a)"><path d="M6.4 19 5 17.6l5.6-5.6L5 6.4 6.4 5l5.6 5.6L17.6 5 19 6.4 13.4 12l5.6 5.6-1.4 1.4-5.6-5.6L6.4 19Z" fill="#1C1B1F"/></g></svg>
            </span>
          </span>
        </div>
        <div class="v-mdl-pop__w">
          <div class="v-mdl-pop__b v-mdl-pop__b--1">
            <figure class="v-spc-faces__img">
              <img id="pop-img" src="https://s1.abcstatics.com/comun/narrativas/redaccion/2025/10/29/vidas-rotas/images/no-photo.jpg" alt="">
            </figure>
            <div class="v-spc-faces__info">
              <span id="pop-name" class="v-spc-faces__name"></span>
              <span id="pop-age" class="v-spc-faces__age"></span>
              <span id="pop-loc" class="v-spc-faces__loc"></span>
            </div>
          </div>
          <div class="v-mdl-pop__b v-mdl-pop__b--2">
            <p id="pop-desc" class="v-spc-faces__desc"></p>
          </div> 
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const BASE_PATH="https://s1.abcstatics.com/comun/narrativas/redaccion/2025/10/29/vidas-rotas/",CSV_URL=`${BASE_PATH}dana_people.csv`,qs=(e,s=document)=>s.querySelector(e),qsa=(e,s=document)=>[...s.querySelectorAll(e)];function limpiarNombreSlug(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/游릭|游댮/g,"").replace(/-\s*hija del n칰mero\s*\d+\s*-/i,"").replace(/-\s*.*-$/i,"").trim()}function limpiarNombreVisible(e){return e.replace(/游릭|游댮/g,"").trim()}function crearSlug(e=""){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().split(/\s+/).filter((e=>!["de","del","de la","de los","de las","la","los","las","y"].includes(e))).join("-")}function parseCSV(e){const s=[],o=e.split(/\r?\n/);for(let e of o){if(!e){s.push([]);continue}const o=[];let t="",n=!1;for(let s=0;s<e.length;s++){const a=e[s];'"'===a?n&&'"'===e[s+1]?(t+='"',s++):n=!n:","!==a||n?t+=a:(o.push(t.trim()),t="")}o.push(t.trim()),s.push(o)}return s}async function fetchPeople(){const e=await fetch(CSV_URL);if(!e.ok)throw new Error(`No se pudo cargar CSV: ${e.status} ${e.statusText}`);const s=parseCSV(await e.text()),o=[];for(let e=8;e<s.length;e++){const t=s[e];if(!t||0===t.length)continue;const n=(t[0]||"").toUpperCase();let a="";for(let e of t)if(/^\d+\./.test((e||"").trim())){a=e.trim();break}if(!a)continue;const i=a.match(/^\d+\.\s*(.*)/),c=limpiarNombreVisible(i?i[1]:a),r=limpiarNombreSlug(c);if(!c)continue;const l=crearSlug(r),p=i?i[0].split(".")[0]:"";let d=r.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"_").replace(/[^a-z0-9_]/g,"");d=d.replace(/^_+|_+$/g,"");const m="SI"===n?`${BASE_PATH}assets/images/fotos/${p?`${p}_${d}`:d}.jpg`:`${BASE_PATH}assets/images/no-photo.jpg`;let u=t[2]||"";u=u.replace(/"\s*(.*?)\s*"/g,"춺$1췉").replace(/''\s*(.*?)\s*''/g,"춺$1췉").replace(/"\s*/g,"춺").replace(/\s*"/g,"췉");const g="";o.push({nombreVisible:c,slug:l,foto:m,desc:u,location:g})}return o.sort(((e,s)=>{const o=["de","del","de la","de los","de las","la","los","las","y","da","do","das","dos"];function t(e){const s=e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").split(/\s+/).filter((e=>e&&!o.includes(e.toLowerCase())));return-1!==s.findIndex((e=>"socol"===e.toLowerCase()))?"Socol "+s[0].toLowerCase():2===s.length||3===s.length?s[1].toLowerCase():s.length>=4?s[2].toLowerCase():s[0].toLowerCase()}const n=t(e.nombreVisible),a=t(s.nombreVisible);return n.localeCompare(a,"es",{sensitivity:"base"})})),o}const pop=qs(".v-spc-pop"),closeBtn=qs(".v-x",pop),closePopover=()=>{const e=qs("#pop-img",pop),s=qs("#pop-name",pop),o=qs("#pop-loc",pop),t=qs("#pop-desc",pop);e&&(e.src="",e.alt=""),s&&(s.textContent=""),o&&(o.textContent="",o.style.display="none"),t&&(t.textContent=""),pop.id="",closeBtn&&closeBtn.setAttribute("popovertarget",""),document.body.classList.remove("is-overflow"),pop.classList.remove("is-open"),pop.style.display="none"};closeBtn&&closeBtn.addEventListener("click",closePopover);const openPopover=e=>{e.style.display="",e.classList.add("is-open"),document.body.classList.add("is-overflow")};async function init(){const e=qsa(".v-spc-loader"),s=qs(".v-spc-names"),o=qs(".v-spc-faces-grid");e.forEach((e=>e.style.display="block"));let t=[];try{t=await fetchPeople()}catch(s){return console.error("Error cargando CSV:",s),void e.forEach((e=>e.style.display="none"))}s.innerHTML="",o.innerHTML="",t.forEach(((e,o)=>{const n=document.createElement("span");n.textContent=o===t.length-1?e.nombreVisible:e.nombreVisible+", ",n.dataset.target=e.slug,s.appendChild(n)})),t.forEach((e=>{const s=document.createElement("button");s.className="v-spc-faces__itm is-hidden",s.setAttribute("popovertarget",e.slug),s.innerHTML=`\n        <figure class="v-spc-faces__img">\n          <img src="${e.foto}" alt="${e.nombreVisible}">\n        </figure>\n        <span class="v-spc-faces__name">${e.nombreVisible}</span>\n      `;const t=e.desc?.trim();t&&!/^(-{3,}|\/{3,})\s*$/.test(t)&&s.addEventListener("click",(()=>{closePopover(),pop.id=e.slug,closeBtn&&closeBtn.setAttribute("popovertarget",e.slug);const s=qs("#pop-img",pop);s&&(s.src=e.foto,s.alt=e.nombreVisible);const o=qs("#pop-name",pop);o&&(o.textContent=e.nombreVisible);const n=qs("#pop-loc",pop);n&&(e.location&&!/Ubicaci칩n no disponible/.test(e.location)?(n.textContent=e.location,n.style.display=""):(n.textContent="",n.style.display="none"));const a=qs("#pop-desc",pop);a&&(a.textContent=t),openPopover(pop)})),o.appendChild(s)}));const n=document.createElement("button");n.className="v-spc-faces__itm is-hidden",n.setAttribute("popovertarget","victima-desconocida"),n.innerHTML=`\n        <figure class="v-spc-faces__img">\n          <img src="${BASE_PATH}assets/images/no-photo.jpg" alt="V칤ctimas sin identificar">\n        </figure>\n      `,n.addEventListener("click",(()=>{closePopover(),pop.id="victima-desconocida",closeBtn.setAttribute("popovertarget","victima-desconocida"),qs("#pop-img",pop).src=`${BASE_PATH}assets/images/no-photo.jpg`,qs("#pop-name",pop).style.display="none",qs("#pop-loc",pop).style.display="none",qs("#pop-desc",pop).textContent="Tras consultar el sumario y los registros de las asociaciones, hay dos fallecidos de los que se desconoce con claridad la identidad: son la v칤ctima 108 y la 228. La v칤ctima 237 es un brit치nico de 71 a침os, que muri칩 en el hospital de Alhaur칤n de la Torre (M치laga) tras ser rescatado en su casa con signos de hipotermia. Es la 칰nica v칤ctima mortal registrada en Andaluc칤a.",openPopover(pop)})),o.appendChild(n),await Promise.all(qsa("img",o).map((e=>new Promise((s=>{e.onload=e.onerror=s}))))),e.forEach((e=>e.style.display="none"));const a=qsa(".v-spc-names span");if(a.length>0){const e=5e3/a.length;a.sort((()=>Math.random()-.5)).forEach(((s,o)=>setTimeout((()=>s.classList.add("visible")),o*e)))}a.forEach((e=>{e.addEventListener("click",(()=>{const s=e.dataset.target,o=qs(`.v-spc-faces__itm[popovertarget="${s}"]`);o&&(o.scrollIntoView({behavior:"smooth",block:"center"}),o.classList.add("found"),setTimeout((()=>o.classList.remove("found")),3e3))}))})),qsa(".v-spc-faces__itm",o).forEach(((e,s)=>setTimeout((()=>e.classList.remove("is-hidden")),20*s)))}document.addEventListener("click",(e=>{if(!pop)return;const s=pop.contains(e.target),o=e.target.closest(".v-spc-faces__itm");!document.body.classList.contains("is-overflow")||s||o||closePopover()})),init();
</script>