{{!-- <script>
  document.addEventListener("DOMContentLoaded", () => {
    const map = document.querySelector(".v-spc-map");
    const sections = [...document.querySelectorAll(".v-spc-zone")];
    const navLinks = [...document.querySelectorAll(".v-spc-nav a")];
    const mediaQuery = window.matchMedia("(min-width: 1395px)");
    const video = document.querySelector(".voc-article--detail .video");

    let mapObserver = null;
    let navObserver = null;

    // ---------------------------
    // UTILIDADES
    // ---------------------------
    const clearClasses = (el, prefix) => {
      el.classList.forEach(c => c.startsWith(prefix) && el.classList.remove(c));
    };

    const createObserver = (targetElements, options, onIntersect) => {
      const obs = new IntersectionObserver(onIntersect, options);
      targetElements.forEach(el => obs.observe(el));
      return obs;
    };

    // ---------------------------
    // MAPA INTERACTIVO
    // ---------------------------
    const updateMapClass = (entries) => {
      const visible = entries.filter(e => e.isIntersecting);
      if (!visible.length) return;

      const topMost = visible.reduce((a, b) =>
        a.boundingClientRect.top < b.boundingClientRect.top ? a : b
      );

      const zoneClass = [...topMost.target.classList].find(c => c.startsWith("v-spc-zone--"));
      if (!zoneClass) return;

      clearClasses(map, "v-spc-map--");
      map.classList.add(`v-spc-map--${zoneClass.split("--")[1]}`);
    };

    const enableMapObserver = () => {
      if (map && sections.length) {
        mapObserver = createObserver(sections, { threshold: 0.25 }, updateMapClass);
      }
    };

    const disableMapObserver = () => {
      mapObserver?.disconnect();
      mapObserver = null;
      if (map) clearClasses(map, "v-spc-map--");
    };

    const handleResponsiveObservers = () => {
      if (mediaQuery.matches) {
        if (!mapObserver) enableMapObserver();
      } else {
        disableMapObserver();
      }
    };

    mediaQuery.addEventListener?.("change", handleResponsiveObservers);
    mediaQuery.addListener?.(handleResponsiveObservers);
    window.addEventListener("scroll", handleResponsiveObservers);
    window.addEventListener("resize", handleResponsiveObservers);

    handleResponsiveObservers();

    // ---------------------------
    // VIDEO AUTO-PLAY
    // ---------------------------
    if (video) {
      let played = false;
      createObserver([video], { threshold: 1 }, (entries, obs) => {
        entries.forEach(e => {
          if (e.isIntersecting && !played) {
            video.play();
            played = true;
            obs.unobserve(video);
          }
        });
      });
    }

    // ---------------------------
    // SCROLLSPY NAV
    // ---------------------------
    // Click manual → activar inmediatamente
    navLinks.forEach(link =>
      link.addEventListener("click", (e) => {
        e.preventDefault();
        navLinks.forEach(l => l.classList.remove("is-active"));
        e.currentTarget.classList.add("is-active");
      })
    );

    // Scroll automático → activar según sección visible
    navObserver = createObserver(sections, { threshold: 0.3 }, (entries) => {
      entries.forEach(entry => {
        const id = entry.target.id;
        const link = document.querySelector(`.v-spc-nav a[href="#${id}"]`);
        if (entry.isIntersecting && link) {
          navLinks.forEach(l => l.classList.remove("is-active"));
          link.classList.add("is-active");
        }
      });
    });
  });
</script> --}}